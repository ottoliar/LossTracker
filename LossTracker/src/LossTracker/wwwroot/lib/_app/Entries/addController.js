!function(){"use strict";function e(e,t,s,a,n,o){function c(){if(void 0===l.searchResults||0!==s.search.length){l.searchIsBusy=!0;var e=r+s.search;a.get(e).then(function(e){0==e.data.length?l.noResultFound=!0:l.noResultFound=!1,l.searchResults=e.data})["finally"](function(){l.searchIsBusy=!1})}else l.noResultFound=!1,l.searchResults=void 0;l.select=function(){this.setSelectionRange(0,this.value.length)}}var l=this;l.alertAddSuccess=n({title:"Add Successful!",content:"One serving was added to your diary",placement:"top-right",type:"success",duration:3,dismissable:!0,show:!1});var r="/api/foods/";l.mealId=e.mealId,l.noResultFound=!1,s.$watch("search",function(e,t){e!=t&&c()}),l.addDiaryEntry=function(e){o.addDiaryEntry(e,1,l.mealId)["finally"](function(){l.alertAddSuccess.show(),t.path("/")})}}e.$inject=["$routeParams","$location","$scope","$http","$alert","diaryTracker"],angular.module("appDiary").controller("addController",e)}();