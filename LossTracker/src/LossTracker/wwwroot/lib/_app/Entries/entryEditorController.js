!function(){"use strict";function e(e,t,n,r){function s(){i.loadIsBusy=!0,r.getSingleEntry(l).then(u,c)["finally"](function(){i.loadIsBusy=!1})}var i=this,l=e.entryId;i.isDisabled=!1,i.alertEditSuccess=n({title:"Edit Successful!",content:"Entry was successfully edited.",placement:"top-right",type:"success",duration:3,dismissable:!0,show:!1}),i.alertDeleteSuccess=n({title:"Delete Successful!",content:"Entry was successfully deleted.",placement:"top-right",type:"success",duration:3,dismissable:!0,show:!1});var u=function(e){i.currentEntry=e,i.newNumberOfServings=i.currentEntry.numberOfServings},c=function(){i.error="Error retrieving entry from database"};i.postEdit=function(e){if(i.isDisabled=!0,i.newNumberOfServings===e.numberOfServings)t.path("/");else{var n=e.numberOfServings,s=i.newNumberOfServings;r.editEntry(e,n,s)["finally"](function(){i.alertEditSuccess.show(),t.path("/")})}},i.deleteEntry=function(e){i.loadIsBusy=!0,r.deleteEntry(e)["finally"](function(){i.loadIsBusy=!1,i.alertDeleteSuccess.show(),t.path("/")})},s()}e.$inject=["$routeParams","$location","$alert","diaryTracker"],angular.module("appDiary").controller("entryEditorController",e)}();